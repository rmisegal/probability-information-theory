<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q-Q Plot - בדיקת התפלגות אחידה</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1"></script>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        .slide-container {
            width: 1280px;
            height: 720px;
            background: #F2F9FC;
            font-family: 'Heebo', sans-serif;
            direction: rtl;
        }
        .title {
            color: #12377A;
            font-size: 36px;
            font-weight: 700;
        }
        .content-text {
            color: #858481;
            font-size: 18px;
            line-height: 1.3;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 10px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            color: #495057;
            direction: ltr;
            text-align: left;
        }
        .python-keyword { color: #0000ff; }
        .python-string { color: #008000; }
        .python-comment { color: #808080; }
    </style>
</head>
<body>
    <div class="slide-container flex flex-col p-6">
        <!-- Header -->
        <div class="mb-4">
            <h1 class="title">שקף 2ג: Q-Q Plot - בדיקת התפלגות אחידה</h1>
            <div class="w-16 h-1 bg-blue-600 mt-2"></div>
        </div>

        <!-- Content -->
        <div class="flex-1 flex gap-6">
            <!-- Left Side - Content -->
            <div class="w-1/2 space-y-3">
                <div>
                    <h2 class="text-xl font-semibold text-gray-700 mb-2">מה זה Q-Q Plot?</h2>
                    <ul class="content-text space-y-1">
                        <li><strong>Q-Q Plot:</strong> Quantile-Quantile Plot - השוואת קוונטילים</li>
                        <li><strong>מטרה:</strong> בדיקה האם הנתונים מתפלגים לפי התפלגות מסוימת</li>
                        <li><strong>קו ישר:</strong> מעיד על התאמה טובה להתפלגות</li>
                        <li><strong>סטיות מהקו:</strong> מעידות על אי-התאמה</li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">איך לקרא Q-Q Plot:</h3>
                    <ul class="content-text space-y-1">
                        <li><strong>ציר X:</strong> קוונטילים תיאורטיים (התפלגות אחידה)</li>
                        <li><strong>ציר Y:</strong> קוונטילים מדגמיים (הנתונים שלנו)</li>
                        <li><strong>קו אדום:</strong> קו ההתאמה המושלמת (y=x)</li>
                        <li><strong>נקודות כחולות:</strong> הקוונטילים בפועל</li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">קוד Python:</h3>
                    <div class="code-block">
<span class="python-comment"># יצירת Q-Q Plot לבדיקת התפלגות אחידה</span>
<span class="python-keyword">import</span> matplotlib.pyplot <span class="python-keyword">as</span> plt
<span class="python-keyword">import</span> numpy <span class="python-keyword">as</span> np
<span class="python-keyword">from</span> scipy <span class="python-keyword">import</span> stats

<span class="python-comment"># יצירת נתונים אחידים</span>
np.random.seed(42)
uniform_data = np.random.uniform(0, 10, 1000)

<span class="python-comment"># חישוב קוונטילים</span>
sample_quantiles = np.sort(uniform_data)
theoretical_quantiles = np.linspace(0, 10, len(sample_quantiles))

<span class="python-comment"># יצירת Q-Q Plot</span>
plt.figure(figsize=(8, 8))
plt.scatter(theoretical_quantiles, sample_quantiles, 
           alpha=0.6, s=20, color='blue')

<span class="python-comment"># קו התאמה מושלמת</span>
plt.plot([0, 10], [0, 10], 'r-', linewidth=2, 
         label='Perfect Fit (y=x)')

<span class="python-comment"># חישוב מקדם קורלציה</span>
correlation = np.corrcoef(theoretical_quantiles, 
                         sample_quantiles)[0,1]
plt.title(<span class="python-string">f'Q-Q Plot: Uniform Distribution Test\\nCorrelation: {correlation:.4f}'</span>)
                    </div>
                </div>
            </div>

            <!-- Right Side - Chart -->
            <div class="w-1/2">
                <div class="bg-white rounded-lg shadow-lg p-4 h-full">
                    <h3 class="text-lg font-semibold text-center mb-4">Q-Q Plot: בדיקת התפלגות אחידה</h3>
                    <div style="height: 400px;">
                        <canvas id="qqChart"></canvas>
                    </div>
                </div>
                
                <!-- Chart Analysis -->
                <div class="p-3 bg-blue-50 rounded-lg mt-2">
                    <h4 class="font-semibold text-blue-800 mb-1">ניתוח הגרף:</h4>
                    <div class="text-sm text-blue-700">
                        <strong>ציר X:</strong> קוונטילים תיאורטיים | <strong>ציר Y:</strong> קוונטילים מדגמיים<br>
                        <strong>קו אדום:</strong> התאמה מושלמת | <strong>מסקנה:</strong> נקודות קרובות לקו = התפלגות אחידה טובה
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="mt-4 text-center">
            <p class="text-sm text-gray-500">קובץ Python: slide02c_main.py</p>
            <p class="text-xs text-gray-400 mt-1">כל הזכויות שמורות לדר. יורם סגל</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const ctx = document.getElementById('qqChart').getContext('2d');
            
            // Generate uniform data
            const n = 100; // Reduced for better visualization
            const uniformData = [];
            for(let i = 0; i < n; i++) {
                uniformData.push(Math.random() * 10);
            }
            
            // Sort sample data
            uniformData.sort((a, b) => a - b);
            
            // Generate theoretical quantiles
            const theoreticalQuantiles = [];
            for(let i = 0; i < n; i++) {
                theoreticalQuantiles.push((i + 0.5) / n * 10);
            }
            
            // Create scatter plot data
            const scatterData = [];
            for(let i = 0; i < n; i++) {
                scatterData.push({
                    x: theoreticalQuantiles[i],
                    y: uniformData[i]
                });
            }
            
            // Perfect fit line data
            const perfectFitData = [
                {x: 0, y: 0},
                {x: 10, y: 10}
            ];
            
            const chart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Sample Quantiles',
                        data: scatterData,
                        backgroundColor: 'rgba(54, 162, 235, 0.6)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        pointRadius: 3
                    }, {
                        label: 'Perfect Fit (y=x)',
                        data: perfectFitData,
                        type: 'line',
                        borderColor: 'red',
                        backgroundColor: 'transparent',
                        borderWidth: 2,
                        pointRadius: 0,
                        fill: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                font: {
                                    family: 'Heebo',
                                    size: 12
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom',
                            title: {
                                display: true,
                                text: 'Theoretical Quantiles',
                                font: {
                                    family: 'Heebo',
                                    size: 14
                                }
                            },
                            min: 0,
                            max: 10
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Sample Quantiles',
                                font: {
                                    family: 'Heebo',
                                    size: 14
                                }
                            },
                            min: 0,
                            max: 10
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>

