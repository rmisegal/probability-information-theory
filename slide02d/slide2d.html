<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Box Plot - איך לקרא תרשים קופסה</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-box-and-violin-plot@3.9.0"></script>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        .slide-container {
            width: 1280px;
            height: 720px;
            background: #F2F9FC;
            font-family: 'Heebo', sans-serif;
            direction: rtl;
        }
        .title {
            color: #12377A;
            font-size: 36px;
            font-weight: 700;
        }
        .content-text {
            color: #858481;
            font-size: 17px;
            line-height: 1.3;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 8px;
            font-family: 'Courier New', monospace;
            font-size: 10px;
            color: #495057;
            direction: ltr;
            text-align: left;
        }
        .python-keyword { color: #0000ff; }
        .python-string { color: #008000; }
        .python-comment { color: #808080; }
        .box-explanation {
            background: #e8f4fd;
            border: 2px solid #3b82f6;
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
        }
    </style>
</head>
<body>
    <div class="slide-container flex flex-col p-6">
        <!-- Header -->
        <div class="mb-4">
            <h1 class="title">שקף 2ד: Box Plot - איך לקרא תרשים קופסה</h1>
            <div class="w-16 h-1 bg-blue-600 mt-2"></div>
        </div>

        <!-- Content -->
        <div class="flex-1 flex gap-6">
            <!-- Left Side - Content -->
            <div class="w-1/2 space-y-3">
                <div class="box-explanation">
                    <h2 class="text-lg font-bold text-blue-800 mb-2">איך לקרא Box Plot:</h2>
                    <ul class="content-text space-y-1 text-blue-700">
                        <li><strong>📦 הקופסה:</strong> מכילה 50% מהנתונים (Q1 עד Q3)</li>
                        <li><strong>📏 הקו באמצע:</strong> החציון (Median) - Q2</li>
                        <li><strong>📐 הקווים העליונים/תחתונים:</strong> Whiskers - עד 1.5×IQR</li>
                        <li><strong>🔴 נקודות בודדות:</strong> Outliers - ערכים חריגים</li>
                        <li><strong>📊 IQR:</strong> Inter-Quartile Range = Q3 - Q1</li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">רכיבי Box Plot:</h3>
                    <ul class="content-text space-y-1">
                        <li><strong>Q1 (25%):</strong> רבעון ראשון - 25% מהנתונים מתחתיו</li>
                        <li><strong>Q2 (50%):</strong> חציון - 50% מהנתונים מתחתיו</li>
                        <li><strong>Q3 (75%):</strong> רבעון שלישי - 75% מהנתונים מתחתיו</li>
                        <li><strong>Min/Max:</strong> ערכים מינימליים ומקסימליים (ללא outliers)</li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">קוד Python:</h3>
                    <div class="code-block">
<span class="python-comment"># יצירת Box Plot להתפלגות אחידה</span>
<span class="python-keyword">import</span> matplotlib.pyplot <span class="python-keyword">as</span> plt
<span class="python-keyword">import</span> numpy <span class="python-keyword">as</span> np

<span class="python-comment"># יצירת נתונים אחידים</span>
np.random.seed(42)
uniform_data = np.random.uniform(0, 10, 1000)

<span class="python-comment"># חישוב סטטיסטיקות</span>
q1 = np.percentile(uniform_data, 25)
q2 = np.percentile(uniform_data, 50)  <span class="python-comment"># median</span>
q3 = np.percentile(uniform_data, 75)
iqr = q3 - q1

<span class="python-comment"># יצירת Box Plot</span>
plt.figure(figsize=(8, 6))
box_plot = plt.boxplot(uniform_data, patch_artist=True)

<span class="python-comment"># עיצוב הקופסה</span>
box_plot['boxes'][0].set_facecolor('lightblue')
box_plot['medians'][0].set_color('red')
box_plot['medians'][0].set_linewidth(2)

plt.ylabel(<span class="python-string">'Values'</span>)
plt.title(<span class="python-string">'Box Plot: Uniform Distribution'</span>)
plt.grid(True, alpha=0.3)

<span class="python-comment"># הדפסת סטטיסטיקות</span>
print(<span class="python-string">f'Q1: {q1:.2f}, Q2: {q2:.2f}, Q3: {q3:.2f}'</span>)
print(<span class="python-string">f'IQR: {iqr:.2f}'</span>)
                    </div>
                </div>
            </div>

            <!-- Right Side - Chart -->
            <div class="w-1/2">
                <div class="bg-white rounded-lg shadow-lg p-4 h-full">
                    <h3 class="text-lg font-semibold text-center mb-4">Box Plot: התפלגות אחידה</h3>
                    <div style="height: 350px;">
                        <canvas id="boxChart"></canvas>
                    </div>
                    
                    <!-- Statistics Display -->
                    <div class="mt-4 grid grid-cols-2 gap-2 text-sm">
                        <div class="bg-blue-50 p-2 rounded">
                            <strong>Q1 (25%):</strong> <span id="q1Value">2.5</span>
                        </div>
                        <div class="bg-green-50 p-2 rounded">
                            <strong>Q2 (50%):</strong> <span id="q2Value">5.0</span>
                        </div>
                        <div class="bg-yellow-50 p-2 rounded">
                            <strong>Q3 (75%):</strong> <span id="q3Value">7.5</span>
                        </div>
                        <div class="bg-purple-50 p-2 rounded">
                            <strong>IQR:</strong> <span id="iqrValue">5.0</span>
                        </div>
                    </div>
                </div>
                
                <!-- Chart Analysis -->
                <div class="p-3 bg-blue-50 rounded-lg mt-2">
                    <h4 class="font-semibold text-blue-800 mb-1">ניתוח הגרף:</h4>
                    <div class="text-sm text-blue-700">
                        <strong>קופסה סימטרית:</strong> מעידה על התפלגות אחידה<br>
                        <strong>חציון במרכז:</strong> Q2 באמצע הקופסה | <strong>Whiskers שווים:</strong> טווח אחיד
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="mt-4 text-center">
            <p class="text-sm text-gray-500">קובץ Python: slide02d_main.py</p>
            <p class="text-xs text-gray-400 mt-1">כל הזכויות שמורות לדר. יורם סגל</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const ctx = document.getElementById('boxChart').getContext('2d');
            
            // Generate uniform data
            const uniformData = [];
            for(let i = 0; i < 1000; i++) {
                uniformData.push(Math.random() * 10);
            }
            
            // Sort data for quantile calculation
            uniformData.sort((a, b) => a - b);
            
            // Calculate quartiles
            const q1 = uniformData[Math.floor(uniformData.length * 0.25)];
            const q2 = uniformData[Math.floor(uniformData.length * 0.50)]; // median
            const q3 = uniformData[Math.floor(uniformData.length * 0.75)];
            const iqr = q3 - q1;
            
            // Calculate whiskers (1.5 * IQR rule)
            const lowerWhisker = Math.max(uniformData[0], q1 - 1.5 * iqr);
            const upperWhisker = Math.min(uniformData[uniformData.length - 1], q3 + 1.5 * iqr);
            
            // Update statistics display
            document.getElementById('q1Value').textContent = q1.toFixed(2);
            document.getElementById('q2Value').textContent = q2.toFixed(2);
            document.getElementById('q3Value').textContent = q3.toFixed(2);
            document.getElementById('iqrValue').textContent = iqr.toFixed(2);
            
            // Create box plot using Chart.js
            const chart = new Chart(ctx, {
                type: 'boxplot',
                data: {
                    labels: ['Uniform Distribution'],
                    datasets: [{
                        label: 'Box Plot',
                        data: [uniformData],
                        backgroundColor: 'rgba(54, 162, 235, 0.3)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 2,
                        outlierColor: 'red',
                        medianColor: 'red'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Values',
                                font: {
                                    family: 'Heebo',
                                    size: 14
                                }
                            },
                            ticks: {
                                font: {
                                    family: 'Heebo',
                                    size: 12
                                }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Distribution Type',
                                font: {
                                    family: 'Heebo',
                                    size: 14
                                }
                            },
                            ticks: {
                                font: {
                                    family: 'Heebo',
                                    size: 12
                                }
                            }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>

